<section class="profile">
    <div class="contain">
        <div class="row">
            <div class="col-md-12">
                <section class="personal-information section-white">
                    <div class="d-flex">
                        <h4 class="me-auto">Personal Information</h4>
                        <button class="btn btn-sm btn-primary rounded-pill px-4 btn-edit"
                            (click)="openEditPersonalInformation()"><span>Edit </span> </button>
                    </div>
                    <div class="row mt-4">
                        <div class=" col-xs-2 col-sm-2 col-md-2 col-xl-1  col-12 text-center ">
                            <button class="_aadn" title="Change profile photo" (click)="openEditProfilePhoto()">
                                <img src="{{profile.jobseekerImage || 'assets/imgnotavailable.jpg'}}" alt="">
                            </button>
                            </div>
                        <div class="col-sm-11 profile-detail">
                            <div class="row jobseeker-name">
                                <h4>{{ profile.jobseekerName }}
                                </h4>
                            </div>
                            <div class="row">
                                <div class="col-sm-3 col-12 info-name ">
                                    <p> {{profile.jobseekerProfession || "not filled yet"}}</p>
                                    <p>{{ profile.cityName || "not filled yet"}},
                                        {{profile.countryName || "not filled yet"}}
                                    </p>
                                    <div class="d-flex statusHijau" *ngIf="profile.jobseekingStatus == 1">
                                        <mat-icon>lens</mat-icon>
                                        <p>I’m Actively Applying</p>
                                    </div>
                                    <div class="d-flex statusKuning" *ngIf="profile.jobseekingStatus == 2">
                                        <mat-icon>lens</mat-icon>
                                        <p>Flexible, I’m just looking around</p>
                                    </div>
                                    <div class="d-flex statusMerah" *ngIf="profile.jobseekingStatus == 3">
                                        <mat-icon>lens</mat-icon>
                                        <p>I’m not looking for jobs</p>
                                    </div>
                                </div>
                                <div class="col-sm-3 col-12 info-img">
                                    <p>{{ profile.jobseekerPhone || "not filled yet" }}</p>
                                    <p>{{ profile.jobseekerEmail || "not filled yet" }}</p>
                                    <a href="{{ profile.jobseekerLinkedin }}" target="_blank"><img
                                            src="assets/linkedin.svg" alt="" class="me-1"></a>
                                    <a href="{{ profile.jobseekerInstagram }}" target="_blank"><img
                                            src="assets/instagram.svg" alt="" class="me-1"></a>
                                    <a href="{{ profile.jobseekerFacebook }}" target="_blank"><img
                                            src="assets/image/facebookicon.svg" alt=""></a>
                                    <a href="{{ profile.jobseekerTwitter }}" target="_blank"><img
                                            src="assets/image/twitter-icon.svg" alt=""></a>
                                </div>
                                <div class="col-sm-2 col-12 info-img">

                                    <li>
                                        <a [href]="profile.jobseekerResume" target="_blank"
                                            *ngIf="profile.jobseekerResume"><img src="assets/small-pdf.svg" alt="">
                                            CV uploaded</a>
                                        <a [href]="profile.jobseekerResume" target="_blank"
                                            *ngIf="!profile.jobseekerResume" style="pointer-events: none;"><img
                                                src="assets/small-pdf.svg" alt="">
                                            not filled yet</a>
                                    </li>
                                    <li>
                                        <a [href]="profile.jobseekerPortfolio" target="_blank"
                                            *ngIf="profile.jobseekerPortfolio"><img src="assets/chain.svg" alt="">
                                            Portfolio</a>
                                        <a [href]="profile.jobseekerPortfolio" target="_blank"
                                            *ngIf="!profile.jobseekerPortfolio" style="pointer-events: none;"><img
                                                src="assets/chain.svg" alt="">
                                            not filled yet</a>
                                    </li>

                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="top-skills section-white">
                    <div class="d-flex">
                        <h4 class="me-auto">Top Skills</h4>
                        <button class="btn btn-sm btn-primary rounded-pill px-4"
                            (click)="openEditSkills()">Edit</button>
                    </div>

                    <div class="row mt-4">
                        <div class="col-md-8 btn-exp">
                            <button type="button" class="btn btn-outline-primary rounded-pill me-2"
                                *ngFor="let item of profileModel.skills">
                                {{ item.skillName }}</button>
                        </div>
                        <h6 *ngIf="profileModel.skills.length===0">Not Filled Yet</h6>
                    </div>
                </section>
                <section class="working-experiences section-white">
                    <div class="d-flex">
                        <h4 class="me-auto">Working Experiences</h4>
                        <button class="btn btn-sm btn-primary rounded-pill px-4 me-2" (click)="openAddExperience()"><img
                                src="assets/plus.svg" alt=""><span> Add Experience</span></button>
                    </div>
                    <div class="row user-job-detail mt-4" *ngFor="let edu of profileModel.experience; let j = index">
                        <div class="col-md-1 gambar-default">
                            <img src="assets/work.png" alt="">
                        </div>
                        <div class="col-xs-10 col-sm-10 col-md-10 col-xl-11 col-12 ps-4 array-data">
                            <div class="d-flex row">
                                <div class="col-12 col-sm-12 col-xs-10 col-md-10 col-xl-10">
                                    <h6>{{ edu.jobTitle }} <span class="badge ms-1"
                                            [ngStyle]="{'color': (edu.jobTypeId === 4) ? '#006EFF' : (edu.jobTypeId === 5) ? '#E051C1' : (edu.jobTypeId === 1) ? '#ff9900' : (edu.jobTypeId === 3) ? '#16C39A' : (edu.jobTypeId === 2) ? 'green' : ''}">
                                            <p *ngIf="edu.jobTypeId ===1">Internship</p>
                                            <p *ngIf="edu.jobTypeId ===2">Full Time</p>
                                            <p *ngIf="edu.jobTypeId ===3">Part-Time</p>
                                            <p *ngIf="edu.jobTypeId ===4">Contractural</p>
                                            <p *ngIf="edu.jobTypeId ===5">Freelance</p>
                                        </span>
                                    </h6>
                                </div>
                                <div class="col-12 col-sm-12 col-xs-10 col-md-2 col-xl-2">
                                    <button (click)="openEditExperience(j)"
                                        class="btn btn-sm btn-primary rounded-pill px-4 ms-auto me-2">Edit </button>
                                    <button (click)="deleteExp(j)"
                                        class="btn btn-sm btn-outline-danger rounded-pill">Delete</button>
                                </div>
                            </div>

                            <p>{{ edu.jobFunction }}</p>
                            <p>{{ edu.companyName }}</p>
                            <p>{{ edu.status }}</p>
                            <p *ngIf="edu.isPresent ===0">{{ edu.startPeriodMonth }}, {{ edu.startPeriodYear }} - {{edu.endPeriodMonth}}, {{
                                edu.endPeriodYear }}</p>
                            <p *ngIf="edu.isPresent ===1">{{ edu.startPeriodMonth }}, {{ edu.startPeriodYear }} - {{"Present"}}</p>
                            <p>{{ edu.cityName }}, {{edu.countryName}}</p>
                            <p>{{ edu.jobDescription }}</p>
                        </div>
                    </div>
                    <div>
                        <h5 class="mt-3" *ngIf="profileModel.experience==0">
                            Not Filled Yet
                        </h5>
                    </div>
                </section>
                <section class="education section-white">
                    <div class="d-flex">
                        <h4 class="me-auto">Education</h4>
                        <button class="btn btn-sm btn-primary rounded-pill px-4 me-2" (click)="openAddEducation()"><img
                                src="assets/plus.svg" alt=""><span> Add Education</span></button>
                    </div>
                    <div class="row user-job-detail mt-4" *ngFor="let item of profileModel.education; let i = index">
                        <div class="col-xs-2 col-sm-2 col-md-2 col-xl-1 col-12s gambar-default">
                            <img src="assets/university.svg" alt="">
                        </div>
                        <div class="col-xs-10 col-sm-10 col-md-10 col-xl-11 col-12 ps-4 array-data">
                            <div class="d-flex row">
                                <div class="col-12 col-sm-12 col-xs-10 col-md-10 col-xl-10">
                                    <h5>{{ item.schoolUniversity }}</h5>
                                </div>
                                <div class="col-12 col-sm-12 col-xs-10 col-md-2 col-xl-2 ">
                                    <button (click)="openEditEducation(i)"
                                        class="btn btn-sm btn-primary rounded-pill px-4 ms-auto me-2">Edit </button>
                                    <button (click)="deleteEdu(i)"
                                        class="btn btn-sm btn-outline-danger rounded-pill">Delete</button>
                                </div>
                            </div>
                            <p>{{ item.degreeName }},
                                {{ item.majorName }}</p>
                            <p>{{ item.startPeriodMonth}}, {{ item.startPeriodYear}} - {{ item.endPeriodMonth}}, {{
                                item.endPeriodYear}}</p>
                            <p *ngIf="item.gradePoint || item.gradePointMax">GPA : {{ item.gradePoint | number:'0.2-2'
                                }} / {{item.gradePointMax | number:'0.2-2' }}</p>
                            <p *ngIf="item.gradePoint == 0 || item.gradePointMax == 0" hidden></p>
                            <p [innerHTML]="item.educationDescription">{{ item.educationDescription}}</p>

                        </div>
                    </div>
                    <div>
                        <h5 class="mt-3" *ngIf="profileModel.education==0">
                            Not Filled Yet
                        </h5>
                    </div>
                </section>
                <section class="salary section-white">
                    <div class="d-flex">
                        <h4 class="me-auto">Salary</h4>
                        <button *ngIf = "profile.jobseekerSalary === null" class="btn btn-sm btn-primary rounded-pill px-4 btn-edit"
                            (click)=" openAddSalary()">Add </button>
                        <button *ngIf = "profile.jobseekerSalary" class="btn btn-sm btn-primary rounded-pill px-4 btn-edit"
                        (click)=" openEditSalary()">Edit </button>
                    </div>
                    <div class="row user-job-detail mt-4">
                        <div class="col-md-2">
                            <h6>Current Salary</h6>
                            <p>
                                <span [innerHTML]="profile.jobseekerSalary?.currentCurrency"></span>
                                {{profile.jobseekerSalary?.currentSalary | currencyFormat}}
                            </p>
                            <p *ngIf="profile.jobseekerSalary===null">not filled yet</p>
                        </div>
                        <div class="col-md-6">
                            <h6>Expected Salary</h6>
                            <p *ngIf="profile.jobseekerSalary!=null">
                                <span [innerHTML]="profile.jobseekerSalary?.expectedCurrency"></span>
                                {{profile.jobseekerSalary?.expectedMinimum | currencyFormat}}
                                -
                                <span [innerHTML]="profile.jobseekerSalary?.expectedCurrency"></span>
                                {{profile.jobseekerSalary?.expectedMaximum | currencyFormat}} (nett)
                            </p>
                            <p *ngIf="profile.jobseekerSalary===null">not filled yet</p>
                        </div>
                    </div>
                </section>
                <section class="section-white language">
                    <div class="d-flex">
                        <h4 class="me-auto">Language</h4>
                        <button (click)="openModalAddLanguage()" class="btn btn-sm btn-primary rounded-pill px-4 btn-edit">
                            Edit </button>
                    </div>
                    <div class="row mt-4">
                        <div class="col-md-8">
                            <button *ngFor="let item of profile.languages" type="button" class="btn btn-outline-primary rounded-pill me-2">
                                {{item.languageName}}
                            </button>
                        </div>
                    </div>
                </section>
                <section class="upload-cv section-white" *ngIf="profile.jobseekerCertifications.length === 0">
                    <div class="d-flex">
                        <h4 class="me-auto">Certificate</h4>
                        <button (click)="openModalAddCertificate()" class="btn btn-sm btn-primary rounded-pill px-4 btn-edit">
                            <img src="assets/plus.svg" alt="">
                            <span> Add Certificate</span>
                        </button>
                    </div>
                    <div class="row user-job-detail mt-4">
                        <p href="#" target="_blank"><img src="assets/cv-before.png" class="text-color me-1">
                            {{'No certificate is uploaded' }}
                        </p>
                        <br>
                        <br>
                        <label for="" class="form-label">
                            <i class="text-secondary">
                                Acceptable file type only PDF that is up to 10MB.
                            </i>
                        </label>
                    </div>
                </section>
                <section class="section-white" *ngIf="profile.jobseekerCertifications">
                    <div class="row">
                        <div class="col-12">
                            <div class="d-flex">
                                <h4 class="me-auto">
                                    Certificate
                                </h4>
                                <button (click)="openModalAddCertificate()" class="btn btn-sm btn-primary rounded-pill px-4 btn-edit">
                                    <img src="assets/plus.svg" alt="">
                                    <span> Add Certificate</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-4" *ngFor="let certificate of profile.jobseekerCertifications; let k = index">
                        <div class="col-12">
                            <div class="d-flex justify-content-between">
                                <div class="col-12 col-sm-12 col-xs-10 col-md-10 col-xl-10">
                                    <h5 style="color: var(--Gray-1, #333); font-weight: 600; font-size: 18px;">
                                        {{certificate.certificateName}}
                                    </h5>
                                </div>
                                <div class="me-4">
                                    <button (click)="openEditCertificate(k)" class="btn btn-sm btn-primary rounded-pill px-4 ms-auto me-2">Edit </button>
                                    <button class="btn btn-sm btn-outline-danger rounded-pill">Delete</button>
                                </div>
                            </div>
                            <h5 style="color: var(--Gray-1, #333); font-weight: 600; font-size: 16px;">
                                {{certificate.certificateIssuer}}
                            </h5>
                            <h5 style="color: var(--Gray-1, #333); font-weight: 600; font-size: 16px;">
                                Issued {{certificate.issuedMonth}} {{certificate.issuedYear}}
                                <svg xmlns="http://www.w3.org/2000/svg" width="4" height="4" viewBox="0 0 4 4" fill="none">
                                    <circle cx="2" cy="2" r="2" fill="#1B1B1B"/>
                                  </svg>
                                  <span>
                                    Expired {{certificate.expiredMonth}} {{certificate.expiredYear}}
                                  </span>
                            </h5>
                            <a href="{{certificate.credentialLink}}" style="color: var(--blue-main, #44A0F4); font-size: 16px; font-weight: 600; text-decoration: none; cursor: pointer;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M8.33366 4.16536H6.83366C5.90033 4.16536 5.43366 4.16536 5.07699 4.34703C4.76337 4.50677 4.5084 4.76174 4.34866 5.07536C4.16699 5.43203 4.16699 5.8987 4.16699 6.83203V13.1654C4.16699 14.0987 4.16699 14.5654 4.34866 14.922C4.50845 15.2356 4.7634 15.4906 5.07699 15.6504C5.43283 15.832 5.89949 15.832 6.83116 15.832H13.1695C14.1012 15.832 14.567 15.832 14.9228 15.6504C15.237 15.4904 15.492 15.2354 15.652 14.922C15.8337 14.5654 15.8337 14.0995 15.8337 13.1679V11.6654M16.667 7.4987V3.33203M16.667 3.33203H12.5003M16.667 3.33203L10.8337 9.16536" stroke="#44A0F4" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    Credential Link
                            </a>
                            <br>
                            <a href="{{certificate.certificateFile}}" type="button" class="me-2 mt-2 btn btn-outline-info btn-skill" style="border-radius: 36px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M11 17H7C5.61667 17 4.43733 16.5123 3.462 15.537C2.48667 14.5617 1.99933 13.3827 2 12C2 10.6167 2.48767 9.43733 3.463 8.462C4.43833 7.48667 5.61733 6.99933 7 7H11V9H7C6.16667 9 5.45833 9.29167 4.875 9.875C4.29167 10.4583 4 11.1667 4 12C4 12.8333 4.29167 13.5417 4.875 14.125C5.45833 14.7083 6.16667 15 7 15H11V17ZM8 13V11H16V13H8ZM13 17V15H17C17.8333 15 18.5417 14.7083 19.125 14.125C19.7083 13.5417 20 12.8333 20 12C20 11.1667 19.7083 10.4583 19.125 9.875C18.5417 9.29167 17.8333 9 17 9H13V7H17C18.3833 7 19.5627 7.48767 20.538 8.463C21.5133 9.43833 22.0007 10.6173 22 12C22 13.3833 21.5123 14.5627 20.537 15.538C19.5617 16.5133 18.3827 17.0007 17 17H13Z" fill="#44A0F4"/>
                                </svg>
                                Show certificate
                            </a>
                        </div>
                    </div>
                </section>
                <section class="upload-cv section-white" *ngIf="!isUploaded">
                    <div class="d-flex">
                        <h4 class="me-auto">CV or Resume</h4>
                        <button class="btn btn-sm btn-primary rounded-pill px-4 btn-edit" (click)="openUploadCv()"><img
                                src="assets/plus.svg" alt="">
                            <span> Add Resume</span></button>
                    </div>
                    <div class="row user-job-detail mt-4">
                        <p href="#" target="_blank"><img src="assets/cv-before.png" class="text-color me-1">
                            {{'No CV or resume is uploaded' }}
                        </p>
                        <br>
                        <br>
                        <label for="" class="form-label">
                            <i class="text-secondary">
                                Acceptable file types are DOC, DOCX and PDF that is up to 10MB.
                            </i>
                        </label>
                    </div>
                </section>
                <section class="upload-cv section-white" *ngIf="isUploaded">
                    <div>
                        <h4 class="me-auto">CV or Resume</h4>
                    </div>
                    <div class="row mt-4">
                        <div class="d-flex info-img">
                            <p type="text" style="color: #006EFF;" *ngIf="profile.jobseekerResume"><img
                                    src="assets/small-pdf.svg" alt="">
                                {{profile.jobseekerResumeName}}</p>
                            <button class="btn btn-sm btn-primary rounded-pill px-4 btn-edit ms-auto"
                                (click)="openUploadCv()">
                                Update </button>
                            <button class="btn btn-outline-danger rounded-pill px-3 py-1 ms-3 me-1 fw-bold px-4"
                                (click)="resetCv()" hidden>
                                Delete </button>
                        </div>
                        <br>
                        <br>
                        <label for="" class="form-label">
                            <i class="text-secondary">
                                Acceptable file types are DOC, DOCX and PDF that is up to 10MB.
                            </i>
                        </label>
                    </div>
                </section>
            </div>
            <div class="col-md-3" hidden>
                <section class="section-white profile-completion">
                    <h5 class="mb-3">Profile Completion</h5>
                    <mat-progress-bar mode="determinate" value="100"></mat-progress-bar>
                    <p class="text-danger mt-2">28% Complete</p>
                    <p class="text-secondary">Complete at least 80% to easily match your profile to the most
                        suitable job for you!</p>
                    <div class="list-completion mt-4">
                        <div class="row d-flex active">
                            <div class="col-sm-1 col-1 me-2">
                                <mat-icon class="check-green">check_circle</mat-icon>
                            </div>
                            <div class="col-sm-9 col-9">Personal Information</div>
                            <div class="col-sm-1 col-1">
                                <mat-icon>chevron_right</mat-icon>
                            </div>
                        </div>
                        <div class="row d-flex">
                            <div class="col-sm-1 col-1 me-2">
                                <mat-icon class="check-green" hidden>check_circle</mat-icon>
                            </div>
                            <div class="col-sm-9 col-9">Top Skill</div>
                            <div class="col-sm-1 col-1">
                                <mat-icon>chevron_right</mat-icon>
                            </div>
                        </div>
                        <div class="row d-flex">
                            <div class="col-sm-1 col-1 me-2">
                                <mat-icon class="check-green" hidden>check_circle</mat-icon>
                            </div>
                            <div class="col-sm-9 col-9">Working Experience</div>
                            <div class="col-sm-1 col-1">
                                <mat-icon>chevron_right</mat-icon>
                            </div>
                        </div>
                        <div class="row d-flex">
                            <div class="col-sm-1 col-1 me-2">
                                <mat-icon class="check-green text-secondary" hidden>check_circle</mat-icon>
                            </div>
                            <div class="col-sm-9 col-9">Education</div>
                            <div class="col-sm-1 col-1">
                                <mat-icon>chevron_right</mat-icon>
                            </div>
                        </div>
                        <div class="row d-flex">
                            <div class="col-sm-1 col-1 me-2">
                                <mat-icon class="check-green text-secondary" hidden>check_circle</mat-icon>
                            </div>
                            <div class="col-sm-9 col-9">Salary Expectation</div>
                            <div class="col-sm-1 col-1">
                                <mat-icon>chevron_right</mat-icon>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>



